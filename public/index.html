<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Log in to the chatbot</title>
  </head>
  <body class="text-center">
    <form id="nicknameForm" class="form-signin">
      <h1 class="h4 mb-3 font-weight-normal">Please enter your nickname:</h1>
      <label for="nicknameInput" class="sr-only">Nickname</label>
      <input
        type="text"
        name="nickname"
        id="nicknameInput"
        class="form-control"
        placeholder="Nickname"
        required
        autofocus
      />
      <label class="mt-1" for="chatrooms">Select chatroom:</label>
      <br />
      <select name="chatrooms" id="chatrooms">
        <optgroup>
          <option value="room1">Chatroom 1</option>
          <option value="room2">Chatroom 2</option>
          <option value="room3">Chatroom 3</option>
        </optgroup>
      </select>
      <button class="mt-3 btn-lg btn-primary btn-block" type="submit">
        Enter Chat &rarr;
      </button>
    </form>
    <script>
      const nicknameForm = document.getElementById("nicknameForm"),
        nicknameInput = document.getElementById("nicknameInput"),
        chatroom = document.getElementById("chatrooms");

      nicknameForm.addEventListener("submit", (e) => {
        e.preventDefault();
        if (nicknameInput.value) {
          localStorage.setItem("nickname", nicknameInput.value);
          localStorage.setItem("chatroom", chatroom.value);
          window.location.replace("/chat.html");
        }
      });
    </script>
  </body>
</html>
